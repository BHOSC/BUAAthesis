% !Mode:: "TeX:UTF-8"
\chapter{环境配置}

\section{C\TeX{}套装 [Windows Only]}

C\TeX{}套装是Windows下为中文优化的\LaTeX{}系统套件，主要基于MiKTeX系统，
集成了编辑器WinEdt和其他相关软件。整个系统封装在一个安装程序中，
安装方法与常规软件相同，无需任何配置，适合大部分Windows用户使用。

\begin{description}
    \item[下载地址] \hfill
    \begin{description}
        \item[官方页面]
            \url{http://www.ctex.org/CTeXDownload}
        \item[未来花园]
            \url{http://buaabt.cn/showtopic-189174.aspx}\footnote{此版本为CTeX 2.9.2.164\_ full版，
            最新版请到官方网站下载。}
    \end{description}
    \item[安装方法] \hfill
        \begin{itemize}
            \item[] 与常规软件的安装方法差不多
            \item[] 一直下一步稍加一些自定义（如安装路径）即可
        \end{itemize}
\end{description}

\section{\TeX{}Live [ Windows \& Linux ]}

\TeX{}是自由软件，有很多发行版本，就像Linux的Ubuntu、Fedora等等。
每个发行版本都是一套工具集合，包括plain\TeX{}，\LaTeX{}，pdf\TeX{}，dvips等。
其中比较流行的是\TeX{}Live，也包含在CTAN的开源镜像中，
目前的最新版本是\TeX{}Live 2012。

推荐通过下载ISO镜像文件的方式安装：
\begin{description}
    \item[官方说明]
        \url{http://www.tug.org/texlive/acquire-iso.html}
    \item[下载地址] 官方地址会自动跳转寻找"最近"镜像，还有几个较快的教育网镜像
    \begin{description}
        \item[官方地址]
            \url{http://mirror.ctan.org/systems/texlive/Images/texlive2012.iso}
        \item[清华镜像]
            \url{http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/Images/}
        \item[北交镜像]
            \url{http://mirror.bjtu.edu.cn/CTAN/systems/texlive/Images/}
        \item[中科大镜像]
            \url{http://mirror.ustc.edu.cn/CTAN/systems/texlive/Images/}
        \item[未来花园]
            \url{http://mirror.buaa.edu.cn/CTAN/systems/texlive/Images/}\footnote{此镜像仅供北航
            校园网用户访问，校外用户在IPV6的支持下可
            访问\url{http://mirror.buaa6.edu.cn/CTAN/systems/texlive/Images/}}
    \end{description}
    \item[安装方法] \hfill
    \begin{enumerate}
        \item 通过虚拟光驱挂载镜像也可以直接打开或解压缩不过会比较慢
        \item 双击运行光盘镜像或者运行脚本
        \item[] Windows 用户可以直接双击运行\textsl{install-tl.bat}
        \item[] Linux 用户可以在终端下执行命令\textsl{./install-tl}
        \item 按照提示下一步即可，安装大致耗时10$\sim$20分钟，受机器配置影响。
    \end{enumerate}
\end{description}

当然官方也提供了通过网络安装的方式，虽然通过可以通过镜像选择达到比较快的速度，
但是这里简便期间不再赘述，有兴趣的同学可以参考官方说明
\url{http://www.tug.org/texlive/acquire-netinstall.html}。

\section{Mac\TeX{} [ Mac ]}

Mac\TeX{}是基于\TeX{}Live为Mac系统设计的套件。

\begin{description}
    \item[官方网站]
        \url{http://tug.org/mactex/}
    \item[下载地址] 官方地址会自动跳转寻找"最近"镜像，还有几个较快的教育网镜像
    \begin{description}
        \item[官方地址]
            \url{http://mirror.ctan.org/systems/mac/mactex/MacTeX.pkg}
        \item[清华镜像]
            \url{http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/mac/mactex/}
        \item[北交镜像]
            \url{http://mirror.bjtu.edu.cn/CTAN/systems/mac/mactex/}
        \item[中科大镜像]
            \url{http://mirror.ustc.edu.cn/CTAN/systems/mac/mactex/}
        \item[未来花园]
            \url{http://mirror.buaa.edu.cn/CTAN/systems/mac/mactex/}
    \end{description}
    \item[安装方法] 同一般软件安装，下一步即可
\end{description}

\section{关于编辑器}

以上介绍了三款\LaTeX{}套装，涵盖了主流的三大平台，除了C\TeX{}自带了WinEdt，
其余两款均需要自己选择编辑器，理论上任何文本编辑器都是可以使用的，
如Windows上的Notepad++，Linux/MacOS上的vim，emacs，
一方面要考虑对\LaTeX{}的支持，一方面还是自己的熟悉程度。

这里推荐一款大众化的编辑器\TeX{}maker，它是跨平台的，支持Windows、Linux和MacOS。

\begin{description}
    \item[官方网站]
        \url{http://www.xm1math.net/texmaker/}
    \item[下载地址]
        \url{http://www.xm1math.net/texmaker/download.html}
    \item[相关说明]
    \begin{itemize}
        \item 安装同一般软件的安装
        \item 配置Xe\LaTeX{}的编译，选择菜单栏“选项”->“配置\TeX{}Maker”，
        \item[] 在“\LaTeX{}”一栏填写
            \texttt{xelatex -interaction=nonstopmode\%.tex}
    \end{itemize}
\end{description}

\section{关于参考文献管理工具}
\LaTeX{}的参考文献是以Bib\TeX{}进行处理和编译。BibTeX把参考文献的数据放在
一个.bib文件中，显示格式放在.bst文件中，普通用户一般不需要改动.bst文件，
只需要维护.bib参考文献数据库即可。关于Bib\TeX{}的更多，可以
参考\hyperref[chapter-reference]{第六章~~论文的参考文献}中的\hyperref[section-bibtex]{Bib\TeX{}简介}。

本模板推荐使用\href{http://jabref.sourceforge.net}{JabRef}来对参考文献进行管理，结合本模板所使用的
\texttt{buaathesis.bst}，推荐进行以下配置/设置来满足毕业论文要求中对参考文献的要求。

\begin{description}
    \item[官方网站]
        \url{http://jabref.sourceforge.net}
    \item[下载地址]
        \url{http://jabref.sourceforge.net}
    \item[相关说明]
    \begin{itemize}
        \item 安装同一般软件的安装
        \item 配置软件语言为“中文简体”，默认编码为“\textbf{UTF8}”
        \item 选择JabRef的“首选项”中的“外观”，设置“设置表格字体”为“\textbf{SimSun}”
    \end{itemize}
\end{description}

北航图书馆提供的\href{http://edu.noteexpress.net/support/cgi-bin/download_sch.cgi?code=BeiHang}{NoteExpress}亦支持导出Bib\TeX{}格式的参考文献，具体方法请自行搜索。

\section{关于编译}

\LaTeX{}的文件是通过编译生成的，
含有交叉引用的文档（即文中使用了\verb|\label{•}|、\verb|\ref{•}|等）需要xelatex编译两遍。
含有参考文献的文档则更“麻烦”，它需要依次执行xelatex、bibtex、xelatex、xelatex四次编译操作。
\begin{enumerate}
\item 第一遍xelatex只把条目的关键字写到中间文件.aux文件中去。
\item bibtex根据.aux、.bib、.bst生成一个.bbl文件，即参考文献列表，它的内容就是thebibliography环境
和一些\verb|\bibetm| 命令。
\item 第二遍xelatex把交叉引用写到.aux中去。
\item 第三遍xelatex则在正文中正确地显示引用。
\end{enumerate}

对于本模板和毕业设计论文而言，完整的编译过程则需要经过
代码\ref{code-compile}所示步骤（以sample-bachelor.tex为例）：
\begin{lstlisting}[
    language={bash},
    caption={编译步骤},
    label={code-compile},
]
xelatex sample-bachelor.tex
bibtex  sample-bachelor.aux
xelatex sample-bachelor.tex
xelatex sample-bachelor.tex
\end{lstlisting}
当然，我们在模板里也提供了编译的执行脚本。

\subsection{批处理 [ Windows only ]}

进入cmd（Win+R，然后输入cmd），cd到BUAAthesis对应目录，
如{\verb|D:\BUAAthesis\|}，然后运行{\verb|msmake|}即可。

\subsection{Makefile [ Windows(cygwin) / Linux / MacOS ]}
需要要你的命令行环境支持Make，cd到BUAAthesis相应目录，
目前支持如代码\ref{code-make}所示的功能:
\begin{lstlisting}[
    language={bash},
    caption={make 命令},
    label={code-make},
]
make bachelor # 编译本科生的\LaTeX{}（文件默认项，亦可直接输入make）
make master # 编译研究生的\LaTeX{}文件
make clean # 删除编译过程中生成的文件（除了pdf）
make depclean # 删除编译过程中生成的文件（包括pdf）
\end{lstlisting}
