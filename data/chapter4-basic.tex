% !Mode:: "TeX:UTF-8"
\chapter{\LaTeX{}基础知识}
\label{chapter-basic}
本章主要为常用示例，推荐入门用户参照本文档的相应代码进行编写，
编写过程中主要考虑论文写作过程中主要使用到的样式类型，
更全面的\LaTeX{}基础语法请常见推荐的入门文档。
% TODO(huxuan): Add reference of recommended document

\section{\LaTeX{}的优势}
\label{sec-latex-advantage}

\subsection{样式格式}
\label{subsec-style}
% TODO(huxuan): TBD

\subsection{目录}
\label{subsec-contents}
% TODO(huxuan): TBD

\subsection{序号}
\label{subsec-order}
% TODO(huxuan): TBD

\subsection{版本管理}
\label{subsec-version-control}
% TODO(huxuan): TBD

\section{字体}
\label{sec-font}

毕设论文一般不应过多使用字体。模版也已经设置好默认字体：{\bf 宋体}
和{\bf Times New Roman}字体。如有需要特别强调的地方，可参考以下示例。

{\heiti 床前明月光，疑是地上霜。举头望明月，低头思故乡。}

{\bf 床前明月光，疑是地上霜。举头望明月，低头思故乡。}

\textbf{To be, or not to be, that's a question.}

\texttt{To be, or not to be, that's a question.}

\section{特殊符号}
\label{sec-symbol}
由于\LaTeX{}命令需要用到一些符号，因此一些特殊符号的录入需要特殊处理。
比较常见的有“\% \$ \& \{ \} \# \_ \^{} \textbackslash”等，
其他符号请自行搜索或参考tex自带的文档。
% TODO(huxuan): Add reference of symbol document

\section{长度单位}
\label{sec-length}
% TODO(huxuan): TBD

\section{空格、换行与分段}
\label{sec-linkbreak-par}

在\LaTeX{}中，换行与分段是不同的概念，正规的排版中也是如此。
换行只是重新开始一行，图片、表格后紧跟的文字就是换行而非段落。
新的段落需要通过一个单独的空行实现。

在\LaTeX{}源文件中，换行都会被忽略，连续的空格都会被认为是一个空格。
故编写\LaTeX{}源文件时推荐以标点为间隔换行，一行不超过80个字符，
具体形式参见本说明源文件。

\section{标签和引用}
\label{sec-label-ref}
% TODO(huxuan): TBD

\section{章、节、条、款、项}
\label{sec-title}

\subsection{章、节、条}
\label{subsec-chap-etc}
对应命令如表\ref{tab-chap-etc-command}所示
\begin{table}
    \centering
    \caption{章、节、条对应命令}
    \label{tab-chap-etc-command}
    \begin{tabular}{c|c}
        \hline
        类型 & 命令 \\ \hline
        章   & \verb|\chapter{|章标题\} \\ \hline
        节   & \verb|\section{|节标题\} \\ \hline
        条   & \verb|\subsection{|条标题\} \\ \hline
    \end{tabular}
\end{table}

\subsection{款、项}
\label{subsec-item}
条目环境即目录结构中的款和项分为itemize，enumerate，description三种。
itemize是最简单的，enumerate是带序号的，description是带描述的，
具体示例如下：

\begin{enumerate}
    \item enumerate第一条：
        \begin{itemize}
            \item itemize第一点。
            \item itemize第二点。
        \end{itemize}
    \item enumerate第二条：
        \begin{description}
            \item[观点三] description第三点。
            \item[观点四] description第四点。
        \end{description}
\end{enumerate}

\section{图形}
\label{sec-figure}
插入图形时可以使用\texttt{figure}环境，示例如图\ref{fig-sample}所示。
其中figure环境的参数\verb|[h!]|表示尽量排版在当前位置，一般情况下照用即可。
\verb|\includegraphics|的参数\verb|[width=90bp]|是图片大小的设置，
也可以使用height或者两个一起使用，设置其中一个即可实现等比例缩放。
\begin{figure}[h!]
    \centering
    \includegraphics[width=90bp]{figure/buaamark.eps}
    \caption{校徽}
    \label{fig-sample}
\end{figure}

\section{表格}
\label{sec-table}
\texttt{table}为表格的浮动环境，主要用于添加标题和标签
\texttt{tabular}为表格环境，通过参数定义表格列方向的样式，
如\verb+{l||c|r}+表示表格共三列，第一列左对齐{\bf l}，
第二列居中对齐{\bf c}，第三列右对齐{\bf r}。
其中前两列用两条竖线分隔，后两列之间只有一条竖线。
表格行方向的横线用\verb|\hline|表示，横线或竖线均可多条。
每一行中的列用“\&”分隔，每一行之间使用“\verb|\\|”换行，
示例见表格\ref{tab-sample}。
\begin{table}
    \centering
    \caption{浮动表格示例}
    \label{tab-sample}
    \begin{tabular}{l||c|r}
        \hline
        第一列 & 第二列   & 第三列 \\ \hline \hline
        左     & 居中对齐 & 右对齐 \\ \hline
        左对   & 居中     & 右对   \\ \hline
        左对齐 & 对齐     & 右     \\\hline
    \end{tabular}
\end{table}

\subsection{列合并}
\label{subsec-tab-col}
% TODO(huxuan): TBD

\subsection{行合并}
\label{subsec-tab-row}
% TODO(huxuan): TBD

\section{数学公式}
\label{sec-math}
数学公式分为内嵌行公式和独立行公式。内嵌行公式是与正文段落混合排布的公式，
\verb|$ $|表示内嵌行公式的环境，如$1+3=4$。独立行公式是独占一行的公式，
推荐使用equation环境来自动实现独立行公式的编号，示例见公式\ref{equ-sample}。
\begin{equation}
    \label{equ-sample}
    E=mc^2
\end{equation}

一般的数学公式只需掌握几个简单的命令，复杂的数学公式可能会用到更多的命令，
更深入的数学公式相关内容请参见文档。
% TODO(huxuan): Add recommended document relatex to formula

\section{使用listings显示代码}
\label{sec-listings}
使用\texttt{listings}环境可以进行更美观的代码整理和展示。
代码\ref{code-c-sample}即为一个简单示例。
\begin{lstlisting}[
    language={C},
    caption={一段C源代码},
    label={code-c-sample},
]
#include <stdio.h>

void main()
{
    printf("Hello, world!");
}
\end{lstlisting}

\section{更复杂的操作}
\label{sec-more}

\subsection{多图排列}
\label{subsec-multi-fig}
两个或多个图形并排排列，可以参照图\ref{fig-mini-l}和\ref{fig-mini-r}的示例代码。
\begin{figure}[h!] % [h!] 表示尽量排在当前位置
    \begin{minipage}{.5\textwidth} % .5\textwidth 表示正文宽度的一半
        \centering
        \includegraphics[width=0.35\textwidth]{figure/buaamark.eps}
        \caption{并排的左图}
        \label{fig-mini-l}
    \end{minipage}
    \begin{minipage}{.5\textwidth}
        \centering
        \includegraphics[width=0.35\textwidth]{figure/buaamark.eps}
        \caption{并排的右图}
        \label{fig-mini-r}
    \end{minipage}
\end{figure}

图\ref{fig-sub}为子图排列，两个子图有各自的图题，并有一个共同的图题。
\begin{figure}[h!]
    \centering
    \subfigure[并排小图a]{
        \label{fig-sub-l}
        \includegraphics[width=.2\textwidth]{figure/buaamark.eps}
    }
    \hspace{7em} % 水平间隔
    \subfigure[并排小图b]{
        \label{fig-sub-r}
        \includegraphics[width=.2\textwidth]{figure/buaamark.eps}
    }
    \caption{子图并排的示例}
    \label{fig-sub}
\end{figure}

若要将四个或多个图形以矩阵形式，可以参见图\ref{fig-matrix}的示例代码。
\begin{figure}[h!]
    \centering
    \begin{tabular}{cc}
        \subfigure[矩阵子图A]{
            \label{fig-tab-a}
            \includegraphics[width=.18\textwidth]{figure/buaamark.eps}
        } \hspace{7em} &
        \subfigure[矩阵子图B]{
            \label{fig-tab-b}
            \includegraphics[width=.18\textwidth]{figure/buaamark.eps}
        } \\
        \subfigure[矩阵子图C]{
            \label{fig-tab-c}
            \includegraphics[width=.18\textwidth]{figure/buaamark.eps}
        } \hspace{7em} &
        \subfigure[矩阵子图D]{
            \label{fig-tab-d}
            \includegraphics[width=.18\textwidth]{figure/buaamark.eps}
        }\\
    \end{tabular}
    \caption{矩形的subfig排列}
    \label{fig-matrix}
\end{figure}

复杂的图形排列基本到此为止，一般情况下很少会用到也并不推荐使用，
如果对图形的编排的兴趣，可以参考推荐书目。
% TODO(huxuan): Add reference to 《\LaTeX{}插图指南》

\subsection{图形表格等混排}
\label{subsec-morefigtab}
图形表格的并排显示可以参照图\ref{fig-tab-mix}和表格\ref{tab-fig-mix}的实现。
大体思路同图形的并排排列，亦可扩展至其他元素类型。
\begin{figure}[h!]
    \begin{minipage}{0.5\textwidth}
        \centering
        \includegraphics[width=0.6\textwidth]{figure/fgbt.jpg}
        \figcaption{左侧的图片} % 用于生成图片的编号
        \label{fig-tab-mix}
    \end{minipage}
    \begin{minipage}{0.5\textwidth}
        \centering
        \begin{tabular}{c||c|c} \hline
            Day       & Data & other \\ \hline \hline
            Monday    & 1    & 1.5   \\
            Tuesday   & 2    & 2.5   \\
            Wednesday & 3    & 3.5   \\
            Thursday  & 4    & 4.5   \\
            Friday    & 5    & 5.5   \\ \hline
        \end{tabular}
        \tabcaption{右侧的表格} % 用于生成表格的编号
        \label{tab-fig-mix}
    \end{minipage}
\end{figure}

\subsection{长表格}
\label{subsec-longtab}
当表格超过一页时可以使用longtable环境，如表\ref{tab-long-example}所示。

\begin{longtable}{|l|l|l|}
    % 表格的首个表头
    \caption{长表格示例\label{tab-long-example}} \\
    \hline
    \multicolumn{1}{|c|}{\textbf{Time (s)}} &
    \multicolumn{1}{c|}{\textbf{Triple chosen}} &
    \multicolumn{1}{c|}{\textbf{Other feasible triples}} \\ \hline
    \endfirsthead
    % 表格的其他表头
    \multicolumn{3}{l}{{\bfseries \tablename\ \thetable{} --接\,上\,页}} \\
    \hline \multicolumn{1}{|c|}{\textbf{Time (s)}} &
    \multicolumn{1}{c|}{\textbf{Triple chosen}} &
    \multicolumn{1}{c|}{\textbf{Other feasible triples}} \\ \hline
    \endhead
    % 表格的其他表尾
    \hline \multicolumn{3}{|r|}{{接\,下\,页}} \\ \hline
    \endfoot
    % 表格的最后表尾
    \hline \hline
    \endlastfoot
    0      & (1, 11, 13725) & (1, 12, 10980), (1, 13, 8235), (2, 2, 0) \\
    2745   & (1, 12, 10980) & (1, 13,  8235), (2,  2,    0), (2, 3, 0) \\
    5490   & (1, 12, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    8235   & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    10980  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    13725  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    16470  & (1, 13, 16470) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    19215  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    21960  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    24705  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    27450  & (1, 12, 16470) & (1, 13, 13725), (2,  2, 2745), (2, 3, 0) \\
    30195  & (2,  2,  2745) & (2,  3,     0), (3,  1,    0)            \\
    32940  & (1, 13, 16470) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    35685  & (1, 13, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    38430  & (1, 13, 10980) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    41175  & (1, 12, 13725) & (1, 13, 10980), (2,  2, 2745), (2, 3, 0) \\
    43920  & (1, 13, 10980) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    150975 & (1, 13, 16470) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    153720 & (1, 12, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    156465 & (1, 13, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    159210 & (1, 13, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    161955 & (1, 13, 16470) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
    164700 & (1, 13, 13725) & (2,  2,  2745), (2,  3,    0), (3, 1, 0) \\
\end{longtable}


\subsection{定理定义环境}
\label{subsec-thm}
本模版支持的定理定义环境及示例：如假设\ref{thm-assumption-example}、
定义\ref{thm-definition-example}、命题\ref{thm-proposition-example}、
注释\ref{thm-remark-example}、公理\ref{thm-axiom-example}、
引理\ref{thm-lemma-example}、定理\ref{thm-theorem-example}、
证明\ref{thm-proof-example}、推论\ref{thm-corollary-example}、
例\ref{thm-example-example}、练习\ref{thm-exercise-example}、
猜想\ref{thm-conjecture-example}、问题\ref{thm-problem-example}。

\begin{assumption}
    \label{thm-assumption-example}
    待月西厢下，迎风户半开；隔墙花影动，疑是玉人来。
    \begin{eqnarray}
        \label{equ-example-assumption}
        c & = & a^2 - b^2\\
          & = & (a+b)(a-b)
    \end{eqnarray}
\end{assumption}

\begin{definition}
    \label{thm-definition-example}
    子曰：「道千乘之国，敬事而信，节用而爱人，使民以时。」
\end{definition}

\begin{proposition}
    \label{thm-proposition-example}
    曾子曰：「吾日三省吾身 --- 为人谋而不忠乎？与朋友交而不信乎？传不习乎？」
\end{proposition}

\begin{remark}
    \label{thm-remark-example}
    天不言自高，水不言自流。
    \begin{gather*}
        \begin{split}
            \varphi(x,z)
            & = z-\gamma_{10}x-\gamma_{mn}x^mz^n\\
            & = z-Mr^{-1}x-Mr^{-(m+n)}x^mz^n
        \end{split} \\[6pt]
        \begin{align}
            \zeta^0 & = (\xi^0)^2,\\
            \zeta^1 & = \xi^0\xi^1,\\
            \zeta^2 & = (\xi^1)^2,
        \end{align}
    \end{gather*}
\end{remark}

\begin{axiom}
    \label{thm-axiom-example}
    两点间直线段距离最短。
    \begin{align}
        x & \equiv y+1\pmod{m^2}\\
        x & \equiv y+1\mod{m^2}\\
        x & \equiv y+1\pod{m^2}
    \end{align}
\end{axiom}

\begin{lemma}
    \label{thm-lemma-example}
    《猫和老鼠》是我最爱看的动画片。
    \begin{multline*}%\tag*{[a]} % 这个不出现在索引中
        \int_a^b\biggl\{\int_a^b[f(x)^2g(y)^2+f(y)^2g(x)^2]
        -2f(x)g(x)f(y)g(y)dx\biggr\}dy \\
        =\int_a^b\biggl\{g(y)^2\int_a^bf^2
        +f(y)^2\int_a^bg^2-2f(y)g(y)\int_a^b fg\biggr\}dy
    \end{multline*}
\end{lemma}

\begin{theorem}
    \label{thm-theorem-example}
    犯我强汉者，虽远必诛\hfill --- 陈汤（汉）
\end{theorem}

\begin{proof}
    \label{thm-proof-example}
    燕赵古称多感慨悲歌之士。董生举进士，连不得志于有司，怀抱利器，郁郁适兹土，吾
    知其必有合也。董生勉乎哉？

    夫以子之不遇时，苟慕义强仁者，皆爱惜焉，矧燕、赵之士出乎其性者哉！然吾尝闻
    风俗与化移易，吾恶知其今不异于古所云邪？聊以吾子之行卜之也。董生勉乎哉？

    吾因子有所感矣。为我吊望诸君之墓，而观于其市，复有昔时屠狗者乎？为我谢
    曰：“明天子在上，可以出而仕矣！” \hfill --- 韩愈《送董邵南序》
\end{proof}

\begin{corollary}
    \label{thm-corollary-example}
    四川话配音的《猫和老鼠》是世界上最好看最好听最有趣的动画片。
    \begin{alignat}{3}
        V_i & =v_i - q_i v_j, & \qquad X_i & = x_i - q_i x_j, &
        \qquad U_i & = u_i, \qquad \text{for $i\ne j$;} \\
        V_j & = v_j,          & \qquad X_j & = x_j, &
        \qquad U_j & u_j + \sum_{i\ne j} q_i u_i.
    \end{alignat}
\end{corollary}

\begin{example}
    \label{thm-example-example}
    大家来看这个例子。
    \begin{equation}
        \left\{
        \begin{array}{l}
            \nabla f({\mbox{\boldmath $x$}}^*)-
                \sum\limits_{j=1}^p\lambda_j\nabla g_j
                ({\mbox{\boldmath $x$}}^*)=0 \\ [0.3cm]
            \lambda_jg_j({\mbox{\boldmath $x$}}^*)=0,
                \quad j=1,2,\cdots,p \\ [0.2cm]
            \lambda_j\ge 0,\quad j=1,2,\cdots,p.
        \end{array}
        \right.
    \end{equation}
\end{example}

\begin{exercise}
    \label{thm-exercise-example}
    清列出 Andrew S. Tanenbaum 和 W. Richard Stevens 的所有著作。
\end{exercise}

\begin{conjecture}
    \label{thm-conjecture-example}
    \textit{Poincare Conjecture} If in a closed three-dimensional space,
    any closed curves can shrink to a point continuously,
    this space can be deformed to a sphere.
\end{conjecture}

\begin{problem}
    \label{thm-problem-example}
    回答还是不回答，是个问题。
\end{problem}
